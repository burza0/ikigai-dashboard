import{d as e,r as t,p as a,o as s,c as l,b as i,e as o,j as n,m as r,f as d,z as c,A as u,F as m,l as v,g as x,q as p,C as b,D as w,x as h}from"./vendor-vue-21xXbNRb.js";import{a as g}from"./vendor-http-CtpuQClY.js";const f={class:"flex items-center justify-between mb-6"},y={key:0,class:"space-y-4"},k={class:"text-center mb-6"},z={class:"text-3xl font-bold text-white mb-2"},j={class:"text-white/70"},C={class:"space-y-3"},I={key:1,class:"space-y-6"},P={class:"relative"},A={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},B={class:"flex space-x-2"},R={key:0,class:"text-center"},D={key:2,class:"space-y-6"},K={class:"relative bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-xl p-8 border border-green-400/30"},M={class:"relative text-center"},S={class:"text-green-400 text-sm mt-2"},G={key:3,class:"space-y-6"},Q={class:"space-y-4"},T={class:"flex space-x-4"},$={class:"flex-1"},W={class:"flex-1"},L={key:0,class:"text-center"},U={key:4,class:"space-y-6"},V={class:"text-center"},E={class:"text-white/70 mb-4"},_={class:"w-full bg-white/10 rounded-full h-2"},Z={class:"text-center text-white/60 text-sm"},O={key:5,class:"space-y-6"},N={class:"bg-green-500/20 border border-green-400/30 rounded-xl p-4"},q={class:"flex justify-between text-white mb-2"},H={class:"font-bold"},F={class:"flex justify-between text-white mb-2"},Y={class:"font-bold"},J={class:"flex justify-between text-white"},X={class:"font-mono text-sm"},ee={class:"text-center"},te=e({__name:"PaymentSimulator",props:{amount:{},description:{}},emits:["close","success"],setup(e,{emit:w}){const h=w,g=t("select"),te=t(""),ae=t(""),se=t(""),le=t(""),ie=t(""),oe=t("Przygotowywanie..."),ne=t(0),re=t(""),de=t(""),ce=a((()=>16===se.value.replace(/\s/g,"").length&&5===le.value.length&&3===ie.value.length)),ue=a((()=>({blik:"BLIK",nfc:"Płatność zbliżeniowa",card:"Karta płatnicza"}[te.value]||""))),me=e=>{te.value=e,g.value=e,"nfc"===e&&ge()},ve=e=>{const t=e.target.value.replace(/\D/g,"");ae.value=t},xe=e=>{let t=e.target.value.replace(/\s/g,"").replace(/\D/g,"");t=t.replace(/(.{4})/g,"$1 ").trim(),se.value=t},pe=e=>{let t=e.target.value.replace(/\D/g,"");t.length>=2&&(t=t.substring(0,2)+"/"+t.substring(2,4)),le.value=t},be=()=>{g.value="processing",re.value="Autoryzacja w banku...",fe()},we=()=>{g.value="processing",re.value="Komunikacja NFC...",fe()},he=()=>{g.value="processing",re.value="Weryfikacja karty...",fe()},ge=()=>{const e=["Przygotowywanie...","Skanowanie urządzeń...","Gotowy do płatności"];let t=0;const a=setInterval((()=>{oe.value=e[t],t++,t>=e.length&&clearInterval(a)}),1e3)},fe=()=>{const e=["Łączenie z bankiem...","Weryfikacja tożsamości...","Autoryzacja płatności...","Finalizacja transakcji..."];let t=0;ne.value=0;const a=setInterval((()=>{ne.value+=25,t<e.length&&(re.value=e[t],t++),ne.value>=100&&(clearInterval(a),de.value="TXN_"+Math.random().toString(36).substr(2,9).toUpperCase(),g.value="success")}),800)};return s((()=>{setTimeout((()=>{"success"!==g.value&&h("close")}),12e4)})),(e,t)=>(i(),l("div",{class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t[10]||(t[10]=t=>e.$emit("close"))},[o("div",{onClick:t[9]||(t[9]=b((()=>{}),["stop"])),class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 m-4 border border-white/20 max-w-md w-full"},[o("div",f,[t[12]||(t[12]=o("h3",{class:"text-xl font-bold text-white"},"💳 Symulator Płatności",-1)),o("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"text-white/60 hover:text-white"},t[11]||(t[11]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),"select"===g.value?(i(),l("div",y,[o("div",k,[o("div",z,r(e.amount)+"zł",1),o("div",j,r(e.description),1)]),o("div",C,[o("button",{onClick:t[1]||(t[1]=e=>me("blik")),class:"w-full flex items-center p-4 bg-gradient-to-r from-blue-500/20 to-blue-600/20 border border-blue-400/30 rounded-xl text-white hover:bg-blue-500/30 transition-all duration-200"},t[13]||(t[13]=[d('<div class="text-3xl mr-4">📱</div><div class="flex-1 text-left"><div class="font-bold">BLIK</div><div class="text-sm text-blue-200">Szybka płatność telefonem</div></div><div class="text-blue-400">→</div>',3)])),o("button",{onClick:t[2]||(t[2]=e=>me("nfc")),class:"w-full flex items-center p-4 bg-gradient-to-r from-green-500/20 to-green-600/20 border border-green-400/30 rounded-xl text-white hover:bg-green-500/30 transition-all duration-200"},t[14]||(t[14]=[d('<div class="text-3xl mr-4">📡</div><div class="flex-1 text-left"><div class="font-bold">Płatność zbliżeniowa</div><div class="text-sm text-green-200">Apple Pay, Google Pay, NFC</div></div><div class="text-green-400">→</div>',3)])),o("button",{onClick:t[3]||(t[3]=e=>me("card")),class:"w-full flex items-center p-4 bg-gradient-to-r from-purple-500/20 to-purple-600/20 border border-purple-400/30 rounded-xl text-white hover:bg-purple-500/30 transition-all duration-200"},t[15]||(t[15]=[d('<div class="text-3xl mr-4">💳</div><div class="flex-1 text-left"><div class="font-bold">Karta płatnicza</div><div class="text-sm text-purple-200">Visa, Mastercard</div></div><div class="text-purple-400">→</div>',3)]))])])):"blik"===g.value?(i(),l("div",I,[t[16]||(t[16]=o("div",{class:"text-center"},[o("div",{class:"text-6xl mb-4"},"📱"),o("h4",{class:"text-lg font-bold text-white mb-2"},"Płatność BLIK"),o("div",{class:"text-white/70 mb-4"},"Wpisz 6-cyfrowy kod BLIK z aplikacji bankowej")],-1)),o("div",P,[c(o("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>ae.value=e),onInput:ve,maxlength:"6",placeholder:"000000",class:"w-full text-center text-3xl font-mono bg-white/10 border border-white/30 rounded-xl py-4 px-6 text-white placeholder-white/40 focus:border-blue-400 focus:outline-none tracking-wider"},null,544),[[u,ae.value]]),o("div",A,[o("div",B,[(i(),l(m,null,v(6,(e=>o("div",{key:e,class:x(["w-8 h-1 rounded-full",ae.value.length>=e?"bg-blue-400":"bg-white/20"])},null,2))),64))])])]),6===ae.value.length?(i(),l("div",R,[o("button",{onClick:be,class:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-200"}," 💳 Zapłać "+r(e.amount)+"zł ",1)])):n("",!0)])):"nfc"===g.value?(i(),l("div",D,[t[20]||(t[20]=o("div",{class:"text-center"},[o("div",{class:"text-6xl mb-4 animate-pulse"},"📡"),o("h4",{class:"text-lg font-bold text-white mb-2"},"Płatność zbliżeniowa"),o("div",{class:"text-white/70 mb-4"},"Przyłóż telefon lub kartę do czytnika")],-1)),o("div",K,[t[19]||(t[19]=o("div",{class:"absolute inset-0 bg-green-400/20 rounded-xl animate-ping"},null,-1)),o("div",M,[t[17]||(t[17]=o("div",{class:"text-4xl mb-4"},"📱 ↔️ 📡",-1)),t[18]||(t[18]=o("div",{class:"text-white font-medium"},"Wykrywanie urządzenia...",-1)),o("div",S,r(oe.value),1)])]),o("div",{class:"text-center"},[o("button",{onClick:we,class:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-200"}," 📡 Symuluj dotknięcie ")])])):"card"===g.value?(i(),l("div",G,[t[24]||(t[24]=o("div",{class:"text-center"},[o("div",{class:"text-6xl mb-4"},"💳"),o("h4",{class:"text-lg font-bold text-white mb-2"},"Płatność kartą"),o("div",{class:"text-white/70 mb-4"},"Wprowadź dane karty płatniczej")],-1)),o("div",Q,[o("div",null,[t[21]||(t[21]=o("label",{class:"block text-white/70 text-sm mb-2"},"Numer karty",-1)),c(o("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>se.value=e),onInput:xe,placeholder:"1234 5678 9012 3456",maxlength:"19",class:"w-full bg-white/10 border border-white/30 rounded-xl py-3 px-4 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none font-mono"},null,544),[[u,se.value]])]),o("div",T,[o("div",$,[t[22]||(t[22]=o("label",{class:"block text-white/70 text-sm mb-2"},"Data ważności",-1)),c(o("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>le.value=e),onInput:pe,placeholder:"MM/YY",maxlength:"5",class:"w-full bg-white/10 border border-white/30 rounded-xl py-3 px-4 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none font-mono"},null,544),[[u,le.value]])]),o("div",W,[t[23]||(t[23]=o("label",{class:"block text-white/70 text-sm mb-2"},"CVV",-1)),c(o("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>ie.value=e),placeholder:"123",maxlength:"3",class:"w-full bg-white/10 border border-white/30 rounded-xl py-3 px-4 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none font-mono"},null,512),[[u,ie.value]])])])]),ce.value?(i(),l("div",L,[o("button",{onClick:he,class:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-200"}," 💳 Zapłać "+r(e.amount)+"zł ",1)])):n("",!0)])):"processing"===g.value?(i(),l("div",U,[o("div",V,[t[25]||(t[25]=o("div",{class:"text-6xl mb-4 animate-spin"},"⚡",-1)),t[26]||(t[26]=o("h4",{class:"text-lg font-bold text-white mb-2"},"Przetwarzanie płatności",-1)),o("div",E,r(re.value),1)]),o("div",_,[o("div",{class:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all duration-300",style:p({width:ne.value+"%"})},null,4)]),o("div",Z,r(Math.round(ne.value))+"% ukończone ",1)])):"success"===g.value?(i(),l("div",O,[t[30]||(t[30]=o("div",{class:"text-center"},[o("div",{class:"text-6xl mb-4 animate-bounce"},"✅"),o("h4",{class:"text-xl font-bold text-green-400 mb-2"},"Płatność zakończona!"),o("div",{class:"text-white/70 mb-4"},"Transakcja przebiegła pomyślnie")],-1)),o("div",N,[o("div",q,[t[27]||(t[27]=o("span",null,"Kwota:",-1)),o("span",H,r(e.amount)+"zł",1)]),o("div",F,[t[28]||(t[28]=o("span",null,"Metoda:",-1)),o("span",Y,r(ue.value),1)]),o("div",J,[t[29]||(t[29]=o("span",null,"ID transakcji:",-1)),o("span",X,r(de.value),1)])]),o("div",ee,[o("button",{onClick:t[8]||(t[8]=t=>e.$emit("success",{amount:e.amount,method:te.value,transactionId:de.value})),class:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-200"}," ✨ Ukończ ")])])):n("",!0)])]))}}),ae={class:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900"},se={class:"bg-black/20 backdrop-blur-md sticky top-0 z-50"},le={class:"max-w-md mx-auto px-4 py-3"},ie={class:"flex items-center justify-between"},oe={class:"relative"},ne={key:0,class:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},re={class:"max-w-md mx-auto px-4 pb-20"},de={class:"flex bg-white/10 backdrop-blur-md rounded-xl p-1 mb-6"},ce=["onClick"],ue={key:0,class:"space-y-6"},me={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},ve={class:"bg-black rounded-xl mb-4 relative overflow-hidden"},xe={class:"aspect-square bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center"},pe={key:0,class:"text-center"},be={key:1,class:"text-center"},we={class:"space-y-3"},he=["disabled"],ge={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},fe={class:"space-y-2"},ye={class:"text-white font-medium"},ke={class:"text-white/60 text-sm"},ze={key:1,class:"space-y-6"},je={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},Ce={key:0,class:"space-y-4"},Ie={class:"flex items-center justify-between mb-3"},Pe={class:"text-white font-bold"},Ae={class:"text-white/60 text-sm"},Be={class:"text-right"},Re={class:"text-white font-bold text-lg"},De={class:"bg-white rounded-lg p-4 mb-3 text-center"},Ke={class:"w-32 h-32 mx-auto bg-gray-100 rounded border-2 border-gray-300 flex items-center justify-center"},Me={class:"text-xs text-gray-600 text-center"},Se={class:"font-mono text-xs"},Ge={class:"flex gap-2"},Qe=["onClick"],Te=["onClick"],$e=["onClick"],We={class:"mt-3 pt-3 border-t border-white/10"},Le={class:"flex justify-between text-xs text-white/60"},Ue={key:0},Ve={key:0,class:"text-xs text-white/60 mt-1"},Ee={key:1,class:"text-center py-8"},_e={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},Ze={class:"space-y-3"},Oe={class:"flex items-center justify-between"},Ne={class:"font-medium"},qe={class:"text-sm opacity-70"},He={key:2,class:"space-y-6"},Fe={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},Ye={class:"space-y-3 mb-6"},Je=["onClick"],Xe={class:"text-2xl mr-3"},et={class:"flex-1"},tt={class:"text-white font-medium"},at={class:"text-white/60 text-sm"},st={key:0,class:"text-purple-400"},lt={class:"bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-xl p-4 mb-4"},it={class:"text-center"},ot={class:"text-3xl font-bold text-white"},nt={class:"grid grid-cols-3 gap-3 mb-4"},rt=["onClick"],dt={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},ct={class:"space-y-2"},ut={class:"text-white font-medium"},mt={class:"text-white/60 text-sm"},vt={key:3,class:"space-y-6"},xt={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},pt={key:0,class:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-4 mb-4"},bt={class:"flex items-center justify-between mb-3"},wt={class:"bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-full text-sm font-medium"},ht={class:"mb-4"},gt={class:"flex justify-between text-sm text-white/70 mb-1"},ft={class:"w-full bg-white/10 rounded-full h-2"},yt={class:"space-y-2"},kt={class:"flex justify-between text-white"},zt={class:"font-medium"},jt={class:"flex justify-between text-white"},Ct={class:"font-medium text-green-400"},It={class:"flex justify-between text-white"},Pt={class:"font-bold text-lg"},At={class:"bg-white/5 rounded-xl p-4 mb-4"},Bt={class:"grid grid-cols-2 gap-3"},Rt=["onClick"],Dt={class:"text-2xl mb-1"},Kt={class:"font-medium text-sm"},Mt={class:"text-orange-400 font-bold"},St={class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20"},Gt={class:"space-y-3"},Qt={class:"flex items-center justify-between mb-2"},Tt={class:"text-white font-medium"},$t={class:"text-white font-bold"},Wt={class:"flex items-center justify-between text-sm"},Lt={class:"text-white/60"},Ut={class:"fixed bottom-0 left-0 right-0 bg-black/20 backdrop-blur-md border-t border-white/20"},Vt={class:"max-w-md mx-auto px-4 py-3"},Et={class:"flex justify-around"},_t=["onClick"],Zt={class:"text-xl mb-1"},Ot={class:"text-xs font-medium"},Nt={class:"space-y-3 max-h-96 overflow-y-auto"},qt=["onClick"],Ht={class:"flex items-start justify-between"},Ft={class:"flex-1"},Yt={class:"text-white font-medium"},Jt={class:"text-white/70 text-sm mt-1"},Xt={class:"text-white/50 text-xs mt-2"},ea={key:0,class:"w-3 h-3 bg-purple-400 rounded-full"},ta={class:"flex items-center"},aa={class:"text-xl mr-2"},sa={class:"font-medium"},la=e({__name:"MobileQrApp",emits:["back"],setup(e,{emit:a}){const f=t("scanner"),y=t(!1),k=t(""),z=t(!1),j=t("blik"),C=t(127.5),I=t(420),P=t(27);t("🏆");const A=t(!1),B=t(0),R=t(""),D=t(!0),K=[{id:"scanner",name:"Skaner",icon:"📱"},{id:"my-qr",name:"Moje QR",icon:"🎫"},{id:"payment",name:"Płatność",icon:"💳"},{id:"orders",name:"Zamówienia",icon:"📦"}],M=w({show:!1,type:"success",message:""}),S=[{id:"blik",name:"BLIK",icon:"📱",description:"Szybkie płatności telefonem"},{id:"card",name:"Karta płatnicza",icon:"💳",description:"Visa, Mastercard, PayPal"},{id:"nfc",name:"Płatność zbliżeniowa",icon:"📡",description:"Apple Pay, Google Pay"},{id:"wallet",name:"Portfel IKIGAI",icon:"💰",description:"Środki w aplikacji"}],G=[10,25,50],Q=t([{id:1,location:"IKIGAI Central",time:"2 minuty temu",status:"success"},{id:2,location:"IKIGAI Fitness",time:"15 minut temu",status:"success"},{id:3,location:"IKIGAI Office",time:"1 godzinę temu",status:"error"}]),T=t([{id:1,description:"Smoothie Bowl Energy",amount:-18.5,date:"Dzisiaj 10:30"},{id:2,description:"Doładowanie BLIK",amount:50,date:"Wczoraj 15:20"},{id:3,description:"Granola Power Mix",amount:-12,date:"Wczoraj 14:15"},{id:4,description:"Bonus lojalnościowy",amount:5,date:"2 dni temu"}]),$=t({id:"ORD_12345",machine:"IKIGAI Central",status:"Przygotowywane",progress:75,timeLeft:"2:30",total:18.5,items:["Smoothie Bowl","Mix Jagód","Granola"]}),W=[{id:1,name:"Energy Bowl",icon:"⚡",price:15.5},{id:2,name:"Protein Power",icon:"💪",price:18},{id:3,name:"Green Detox",icon:"🥬",price:16.5},{id:4,name:"Berry Boost",icon:"🫐",price:14}],L=t([{id:1,name:"Smoothie Bowl Energy",price:18.5,date:"Dzisiaj 10:30",status:"completed"},{id:2,name:"Granola Power Mix",price:12,date:"Wczoraj 14:15",status:"completed"},{id:3,name:"Protein Shake",price:15.5,date:"2 dni temu",status:"completed"}]),U=t([{id:1,title:"🎉 Zamówienie gotowe!",message:"Twój Smoothie Bowl Energy jest gotowy do odbioru w IKIGAI Central",time:"2 minuty temu",read:!1},{id:2,title:"💰 Bonus punktów!",message:"Otrzymałeś 25 punktów lojalnościowych za dzisiejsze zamówienie",time:"10 minut temu",read:!1},{id:3,title:"🔥 Promocja!",message:"20% zniżki na wszystkie Protein Bowls do końca tygodnia",time:"1 godzinę temu",read:!0}]),V=t([{id:1,name:"Energizing Morning Bowl",description:"Smoothie z mango, bananem i szpinakiem + granola",price:18.5,status:"active",code:"IKIGAI:ORDER:EM001:2024-12-11T10:30:00Z",created:"Dzisiaj 10:30",expiresAt:"Dzisiaj 18:30",usedAt:null,usedLocation:null},{id:2,name:"Protein Power Mix",description:"Shake białkowy z jagodami i orzechami",price:16,status:"used",code:"IKIGAI:ORDER:PP002:2024-12-10T14:15:00Z",created:"Wczoraj 14:15",expiresAt:"Wczoraj 22:15",usedAt:"Wczoraj 15:30",usedLocation:"IKIGAI Central"},{id:3,name:"Green Detox Delight",description:"Sok z kale, ogórka, jabłka i imbiru",price:14.5,status:"expired",code:"IKIGAI:ORDER:GD003:2024-12-09T16:00:00Z",created:"2 dni temu",expiresAt:"2 dni temu",usedAt:null,usedLocation:null}]),E=async()=>{y.value=!0,setTimeout((()=>{if(k.value)_(k.value);else{_("IKIGAI:ORDER:12345:ikigai_central:18.50")}y.value=!1}),2e3)},_=async e=>{try{const t=await g.post("/api/orders/scan-qr",{qr_string:e,machine_id:"ikigai_central"});t.data.success?(Z("success","✅ QR kod zeskanowany pomyślnie!"),$.value={...$.value,status:"Przygotowywane",progress:25},Q.value.unshift({id:Date.now(),location:"IKIGAI Central",time:"Teraz",status:"success"}),O("🎯 Skanowanie udane!","Zamówienie zostało przekazane do realizacji")):Z("error","❌ Błąd skanowania: "+t.data.error)}catch(t){Z("error","❌ Błąd połączenia z serwerem")}},Z=(e,t)=>{M.show=!0,M.type=e,M.message=t,setTimeout((()=>{M.show=!1}),3e3)},O=(e,t)=>{setTimeout((()=>{U.value.unshift({id:Date.now(),title:e,message:t,time:"Teraz",read:!1})}),1e3)},N=e=>{A.value=!1,C.value+=e.amount,T.value.unshift({id:Date.now(),description:R.value,amount:e.amount,date:"Teraz"}),Z("success",`💳 Płatność ${e.amount}zł zakończona pomyślnie!`),O("💰 Doładowanie udane!",`Środki ${e.amount}zł zostały dodane do portfela`)};s((()=>{setInterval((()=>{$.value&&$.value.progress<100&&($.value.progress+=5,$.value.progress>=100&&($.value.status="Gotowe do odbioru",O("🎉 Zamówienie gotowe!","Możesz odebrać swoje zamówienie")))}),3e3)}));const q=async()=>{try{Z("success","🔄 Kody QR zostały odświeżone")}catch(e){Z("error","❌ Błąd odświeżania kodów QR")}},H=e=>{switch(e){case"active":return"✅ Aktywny";case"used":return"✔️ Użyty";case"expired":return"⏰ Wygasły";case"preparing":return"🔄 W przygotowaniu";default:return"❓ Nieznany"}},F=async()=>{const e=V.value.filter((e=>"expired"===e.status));if(0!==e.length){if(confirm(`Czy chcesz usunąć ${e.length} wygasłych kodów QR?`))try{await new Promise((e=>setTimeout(e,1e3))),V.value=V.value.filter((e=>"expired"!==e.status)),Z("success",`🧹 Usunięto ${e.length} wygasłych kodów QR`)}catch(t){Z("error","❌ Błąd podczas usuwania kodów QR")}}else Z("info","📋 Brak wygasłych kodów do usunięcia")},Y=async()=>{try{await new Promise((e=>setTimeout(e,1500)));V.value.map((e=>({name:e.name,price:e.price,status:e.status,created:e.created,used:e.usedAt||"Nie użyty"})));Z("success","📥 Historia została wyeksportowana")}catch(e){Z("error","❌ Błąd eksportu danych")}},J=()=>{D.value=!D.value;const e=D.value?"włączone":"wyłączone";Z("success",`🔔 Auto-usuwanie ${e}`),localStorage.setItem("ikigai_auto_delete",D.value.toString())};return(e,t)=>(i(),l("div",ae,[o("div",se,[o("div",le,[o("div",ie,[o("button",{onClick:t[0]||(t[0]=t=>e.$emit("back")),class:"text-white/80 hover:text-white"},t[7]||(t[7]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t[9]||(t[9]=o("h1",{class:"text-xl font-bold text-white"},"📱 IKIGAI Mobile",-1)),o("div",oe,[o("button",{onClick:t[1]||(t[1]=e=>z.value=!z.value),class:"text-white/80 hover:text-white relative"},[t[8]||(t[8]=o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),U.value.filter((e=>!e.read)).length>0?(i(),l("span",ne,r(U.value.filter((e=>!e.read)).length),1)):n("",!0)])])])])]),o("div",re,[o("div",de,[(i(),l(m,null,v(K,(e=>o("button",{key:e.id,onClick:t=>f.value=e.id,class:x(["flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200",f.value===e.id?"bg-white text-gray-900 shadow-lg":"text-white/70 hover:text-white"])},r(e.icon)+" "+r(e.name),11,ce))),64))]),"scanner"===f.value?(i(),l("div",ue,[o("div",me,[t[12]||(t[12]=o("h3",{class:"text-xl font-bold text-white mb-4"},"🎯 Skaner QR",-1)),o("div",ve,[o("div",xe,[y.value?(i(),l("div",be,t[11]||(t[11]=[o("div",{class:"w-48 h-48 border-4 border-green-400 rounded-xl mb-4 relative"},[o("div",{class:"absolute inset-4 border-2 border-green-400 rounded-lg animate-ping"}),o("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-green-400 text-sm"}," Skanowanie... ")],-1)]))):(i(),l("div",pe,t[10]||(t[10]=[o("div",{class:"w-48 h-48 border-4 border-white/30 rounded-xl mb-4 relative"},[o("div",{class:"absolute inset-4 border-2 border-purple-400 rounded-lg animate-pulse"}),o("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white/60"}," Skieruj kamerę na kod QR ")],-1)])))])]),o("div",we,[c(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>k.value=e),placeholder:"Lub wpisz kod QR ręcznie",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50"},null,512),[[u,k.value]]),o("button",{onClick:E,disabled:y.value,class:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200"},r(y.value?"🔄 Skanowanie...":"📱 Rozpocznij skanowanie"),9,he)])]),o("div",ge,[t[13]||(t[13]=o("h4",{class:"text-lg font-bold text-white mb-3"},"📋 Ostatnie skany",-1)),o("div",fe,[(i(!0),l(m,null,v(Q.value,(e=>(i(),l("div",{key:e.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg"},[o("div",null,[o("div",ye,r(e.location),1),o("div",ke,r(e.time),1)]),o("div",{class:x(["px-2 py-1 rounded-full text-xs font-medium","success"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"])},r("success"===e.status?"✅ Sukces":"❌ Błąd"),3)])))),128))])])])):n("",!0),"my-qr"===f.value?(i(),l("div",ze,[o("div",je,[o("div",{class:"flex items-center justify-between mb-4"},[t[15]||(t[15]=o("h3",{class:"text-xl font-bold text-white"},"🎫 Moje kody QR",-1)),o("button",{onClick:q,class:"bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-2 rounded-lg transition-all duration-200"},t[14]||(t[14]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]))]),V.value.length>0?(i(),l("div",Ce,[(i(!0),l(m,null,v(V.value,(e=>(i(),l("div",{key:e.id,class:"bg-white/5 rounded-xl p-4 border border-white/10"},[o("div",Ie,[o("div",null,[o("h4",Pe,r(e.name),1),o("p",Ae,r(e.description),1)]),o("div",Be,[o("div",Re,r(e.price)+"zł",1),o("div",{class:x(["px-2 py-1 rounded-full text-xs font-medium","active"===e.status?"bg-green-500/20 text-green-400":"used"===e.status?"bg-gray-500/20 text-gray-400":"expired"===e.status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"])},r(H(e.status)),3)])]),o("div",De,[o("div",Ke,[o("div",Me,[t[16]||(t[16]=o("div",{class:"text-2xl mb-1"},"🎯",-1)),t[17]||(t[17]=o("div",null,"QR CODE",-1)),o("div",Se,r(e.code.substring(0,8))+"...",1)])])]),o("div",Ge,[o("button",{onClick:t=>(e=>{Z("success",`📱 Pokazuję kod QR dla: ${e.name}`)})(e),class:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200"}," 👁️ Pokaż pełny ",8,Qe),o("button",{onClick:t=>(e=>{navigator.share?navigator.share({title:`IKIGAI QR - ${e.name}`,text:`Mój kod QR do zamówienia: ${e.description}`,url:`ikigai://qr/${e.code}`}):(navigator.clipboard.writeText(e.code),Z("success","📋 Kod QR skopiowany do schowka"))})(e),class:"flex-1 bg-green-500/20 hover:bg-green-500/30 text-green-400 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200"}," 📤 Udostępnij ",8,Te),"active"===e.status?(i(),l("button",{key:0,onClick:t=>(async e=>{if(confirm("Czy na pewno chcesz usunąć ten kod QR? Ta akcja jest nieodwracalna."))try{await new Promise((e=>setTimeout(e,500)));const t=V.value.findIndex((t=>t.id===e));if(t>-1){const e=V.value.splice(t,1)[0];Z("success",`🗑️ Kod QR "${e.name}" został usunięty`)}}catch(t){Z("error","❌ Błąd podczas usuwania kodu QR")}})(e.id),class:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200"}," 🗑️ Usuń ",8,$e)):n("",!0)]),o("div",We,[o("div",Le,[o("span",null,"Utworzony: "+r(e.created),1),e.expiresAt?(i(),l("span",Ue,"Wygasa: "+r(e.expiresAt),1)):n("",!0)]),e.usedAt?(i(),l("div",Ve," Użyty: "+r(e.usedAt)+" w "+r(e.usedLocation),1)):n("",!0)])])))),128))])):(i(),l("div",Ee,[t[18]||(t[18]=o("div",{class:"text-6xl mb-4"},"📱",-1)),t[19]||(t[19]=o("h4",{class:"text-xl font-bold text-white mb-2"},"Brak kodów QR",-1)),t[20]||(t[20]=o("p",{class:"text-white/60 mb-4"},"Utworz swój pierwszy bowl w Kreatorze, aby wygenerować kod QR",-1)),o("button",{onClick:t[3]||(t[3]=t=>e.$emit("navigate","mixer")),class:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200"}," 🥣 Stwórz bowl ")]))]),o("div",_e,[t[23]||(t[23]=o("h4",{class:"text-lg font-bold text-white mb-4"},"⚙️ Zarządzanie",-1)),o("div",Ze,[o("button",{onClick:F,class:"w-full bg-orange-500/20 hover:bg-orange-500/30 text-orange-400 py-3 px-4 rounded-xl text-left transition-all duration-200"},t[21]||(t[21]=[d('<div class="flex items-center justify-between"><div><div class="font-medium">🧹 Usuń wygasłe kody</div><div class="text-sm opacity-70">Wyczyść nieaktywne zamówienia</div></div><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>',1)])),o("button",{onClick:Y,class:"w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 py-3 px-4 rounded-xl text-left transition-all duration-200"},t[22]||(t[22]=[d('<div class="flex items-center justify-between"><div><div class="font-medium">📥 Eksportuj historię</div><div class="text-sm opacity-70">Pobierz historię zamówień</div></div><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div>',1)])),o("button",{onClick:J,class:"w-full bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 py-3 px-4 rounded-xl text-left transition-all duration-200"},[o("div",Oe,[o("div",null,[o("div",Ne,r(D.value?"🔕":"🔔")+" Auto-usuwanie",1),o("div",qe,r(D.value?"Wyłącz":"Włącz")+" automatyczne czyszczenie",1)]),o("div",{class:x(["w-6 h-3 rounded-full transition-all duration-200",D.value?"bg-purple-500":"bg-white/20"])},[o("div",{class:x(["w-3 h-3 rounded-full bg-white transition-transform duration-200",D.value?"translate-x-3":"translate-x-0"])},null,2)],2)])])])])])):n("",!0),"payment"===f.value?(i(),l("div",He,[o("div",Fe,[t[26]||(t[26]=o("h3",{class:"text-xl font-bold text-white mb-4"},"💳 Płatności Mobilne",-1)),o("div",Ye,[(i(),l(m,null,v(S,(e=>o("div",{key:e.id,onClick:t=>j.value=e.id,class:x(["flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",j.value===e.id?"border-purple-400 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"])},[o("div",Xe,r(e.icon),1),o("div",et,[o("div",tt,r(e.name),1),o("div",at,r(e.description),1)]),j.value===e.id?(i(),l("div",st,t[24]||(t[24]=[o("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})],-1)]))):n("",!0)],10,Je))),64))]),o("div",lt,[o("div",it,[o("div",ot,r(C.value)+" zł",1),t[25]||(t[25]=o("div",{class:"text-white/70"},"Dostępne środki",-1))])]),o("div",nt,[(i(),l(m,null,v(G,(e=>o("button",{key:e,onClick:t=>((e,t)=>{B.value=e,R.value=t,A.value=!0})(e,`Doładowanie ${e}zł`),class:"bg-white/10 hover:bg-white/20 border border-white/20 text-white font-bold py-3 rounded-xl transition-all duration-200"}," +"+r(e)+"zł ",9,rt))),64))])]),o("div",dt,[t[27]||(t[27]=o("h4",{class:"text-lg font-bold text-white mb-3"},"💸 Historia transakcji",-1)),o("div",ct,[(i(!0),l(m,null,v(T.value,(e=>(i(),l("div",{key:e.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg"},[o("div",null,[o("div",ut,r(e.description),1),o("div",mt,r(e.date),1)]),o("div",{class:x(["font-bold",e.amount>0?"text-green-400":"text-red-400"])},r(e.amount>0?"+":"")+r(e.amount)+"zł ",3)])))),128))])])])):n("",!0),"orders"===f.value?(i(),l("div",vt,[o("div",xt,[t[34]||(t[34]=o("h3",{class:"text-xl font-bold text-white mb-4"},"📦 Śledzenie zamówień",-1)),$.value?(i(),l("div",pt,[o("div",bt,[t[28]||(t[28]=o("h4",{class:"text-lg font-bold text-white"},"Aktualne zamówienie",-1)),o("span",wt,r($.value.status),1)]),o("div",ht,[o("div",gt,[t[29]||(t[29]=o("span",null,"Postęp",-1)),o("span",null,r($.value.progress)+"%",1)]),o("div",ft,[o("div",{class:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-500",style:p({width:$.value.progress+"%"})},null,4)])]),o("div",yt,[o("div",kt,[t[30]||(t[30]=o("span",null,"Automat:",-1)),o("span",zt,r($.value.machine),1)]),o("div",jt,[t[31]||(t[31]=o("span",null,"Czas pozostały:",-1)),o("span",Ct,r($.value.timeLeft),1)]),o("div",It,[t[32]||(t[32]=o("span",null,"Łącznie:",-1)),o("span",Pt,r($.value.total)+"zł",1)])])])):n("",!0),o("div",At,[t[33]||(t[33]=o("h4",{class:"text-lg font-bold text-white mb-3"},"⚡ Szybkie zamówienie",-1)),o("div",Bt,[(i(),l(m,null,v(W,(e=>o("button",{key:e.id,onClick:t=>(async e=>{try{if(C.value<e.price)return void Z("error","❌ Niewystarczające środki");C.value-=e.price,P.value+=1,I.value+=Math.floor(e.price),T.value.unshift({id:Date.now(),description:e.name,amount:-e.price,date:"Teraz"}),L.value.unshift({id:Date.now(),name:e.name,price:e.price,date:"Teraz",status:"preparing"}),Z("success",`🚀 Zamówienie ${e.name} złożone!`),O("📦 Nowe zamówienie!",`${e.name} zostało przekazane do realizacji`),f.value="orders"}catch(t){Z("error","❌ Błąd składania zamówienia")}})(e),class:"bg-gradient-to-r from-orange-500/20 to-red-500/20 hover:from-orange-500/30 hover:to-red-500/30 border border-orange-500/30 text-white p-4 rounded-xl transition-all duration-200"},[o("div",Dt,r(e.icon),1),o("div",Kt,r(e.name),1),o("div",Mt,r(e.price)+"zł",1)],8,Rt))),64))])])]),o("div",St,[t[35]||(t[35]=o("h4",{class:"text-lg font-bold text-white mb-3"},"📋 Historia zamówień",-1)),o("div",Gt,[(i(!0),l(m,null,v(L.value,(e=>(i(),l("div",{key:e.id,class:"p-4 bg-white/5 rounded-xl"},[o("div",Qt,[o("div",Tt,r(e.name),1),o("div",$t,r(e.price)+"zł",1)]),o("div",Wt,[o("span",Lt,r(e.date),1),o("span",{class:x(["px-2 py-1 rounded-full text-xs font-medium","completed"===e.status?"bg-green-500/20 text-green-400":"preparing"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"])},r("completed"===e.status?"✅ Ukończone":"preparing"===e.status?"🔄 Przygotowywane":"📦 Oczekuje"),3)])])))),128))])])])):n("",!0)]),o("div",Ut,[o("div",Vt,[o("div",Et,[(i(),l(m,null,v(K,(e=>o("button",{key:e.id,onClick:t=>f.value=e.id,class:x(["flex flex-col items-center py-2 px-4 rounded-lg transition-all duration-200",f.value===e.id?"text-purple-400":"text-white/60 hover:text-white"])},[o("span",Zt,r(e.icon),1),o("span",Ot,r(e.name),1)],10,_t))),64))])])]),z.value?(i(),l("div",{key:0,onClick:t[5]||(t[5]=e=>z.value=!1),class:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-16"},[o("div",{onClick:t[4]||(t[4]=b((()=>{}),["stop"])),class:"bg-white/10 backdrop-blur-md rounded-2xl p-6 m-4 border border-white/20 max-w-md w-full"},[t[36]||(t[36]=o("h3",{class:"text-xl font-bold text-white mb-4"},"🔔 Powiadomienia",-1)),o("div",Nt,[(i(!0),l(m,null,v(U.value,(e=>(i(),l("div",{key:e.id,onClick:t=>(e=>{const t=U.value.find((t=>t.id===e));t&&(t.read=!0)})(e.id),class:x(["p-4 rounded-xl cursor-pointer transition-all duration-200",e.read?"bg-white/5":"bg-purple-500/20 border border-purple-400/30"])},[o("div",Ht,[o("div",Ft,[o("div",Yt,r(e.title),1),o("div",Jt,r(e.message),1),o("div",Xt,r(e.time),1)]),e.read?n("",!0):(i(),l("div",ea))])],10,qt)))),128))])])])):n("",!0),M.show?(i(),l("div",{key:1,class:x(["fixed top-20 left-4 right-4 max-w-md mx-auto p-4 rounded-xl z-50 transition-all duration-300","success"===M.type?"bg-green-500/90 text-white":"bg-red-500/90 text-white"])},[o("div",ta,[o("span",aa,r("success"===M.type?"✅":"❌"),1),o("span",sa,r(M.message),1)])],2)):n("",!0),A.value?(i(),h(te,{key:2,amount:B.value,description:R.value,onClose:t[6]||(t[6]=e=>A.value=!1),onSuccess:N},null,8,["amount","description"])):n("",!0)]))}});export{la as default};
